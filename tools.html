<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utility Tools | ABN</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #48bb78;
            --bg: #1a202c;
            --card-glass: rgba(255, 255, 255, 0.1);
        }

        body {
            margin: 0; font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('assets/background.webp');
            background-size: cover; background-attachment: fixed;
            color: white; padding: 20px;
        }

        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        
        /* Profile Circle sa Tools Page */
        #profileBtn {
            width: 45px; height: 45px; border-radius: 50%;
            background-size: cover; border: 2px solid var(--primary);
        }

        .tools-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 15px;
        }

        .tool-card {
            background: var(--card-glass); backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 30px 20px; border-radius: 20px;
            text-align: center; cursor: pointer; transition: 0.3s;
        }

        .tool-card:active { transform: scale(0.95); background: rgba(72, 187, 120, 0.2); }
        .tool-card i { font-size: 2.5rem; color: var(--primary); margin-bottom: 15px; }
        .tool-card h3 { margin: 0; font-size: 1.1rem; }
    </style>
</head>
<body>

    <div class="header">
        <div>
            <h2 style="margin:0;">Utilities <span style="color:var(--primary);">Tools</span></h2>
            <small id="welcomeName">Loading user...</small>
        </div>
        <div id="profileBtn"></div>
    </div>

    <div class="tools-grid">
        <div class="tool-card" onclick="location.href='gpm-entry.html'">
            <i class="fas fa-tint"></i>
            <h3>GPM Reading</h3>
        </div>
        <div class="tool-card" onclick="location.href='power-entry.html'">
            <i class="fas fa-bolt"></i>
            <h3>Power Check</h3>
        </div>
        <div class="tool-card" onclick="location.href='logbook.html'">
            <i class="fas fa-book"></i>
            <h3>Shift Log</h3>
        </div>
        <div class="tool-card" onclick="logout()" style="border-color: #f56565;">
            <i class="fas fa-sign-out-alt" style="color:#f56565;"></i>
            <h3 style="color:#f56565;">Logout</h3>
        </div>
    </div>

    <script>
        window.onload = function() {
            const userName = localStorage.getItem('userName');
            const userAvatar = localStorage.getItem('userAvatar');

            if (!userName) window.location.href = 'login.html';

            document.getElementById('welcomeName').innerText = "Operator: " + userName;
            
            if (userAvatar) {
                document.getElementById('profileBtn').style.backgroundImage = `url('assets/${userAvatar}')`;
            }
        };

        function logout() {
            localStorage.clear();
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>